{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mehrab/Desktop/HiveSynx-Poject/components/modals/initial-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport axios from \"axios\";\nimport * as z from \"zod\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useForm } from \"react-hook-form\";\nimport { useEffect, useState } from \"react\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { FileUpload } from \"@/components/file-upload\";\nimport { useRouter } from \"next/navigation\";\n\nconst formSchema = z.object({\n  name: z.string().min(1, {\n    message: \"Server name is required.\"\n  }),\n  imageUrl: z.string().min(1, {\n    message: \"Server image is required.\"\n  })\n});\n\nexport const InitialModal = () => {\n  const [isMounted, setIsMounted] = useState(false);\n\n  const router = useRouter();\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const form = useForm({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      name: \"\",\n      imageUrl: \"\",\n    }\n  });\n\n  const isLoading = form.formState.isSubmitting;\n\n  const onSubmit = async (values: z.infer<typeof formSchema>) => {\n    try {\n      await axios.post(\"/api/servers\", values);\n\n      form.reset();\n      router.refresh();\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  if (!isMounted) {\n    return null;\n  }\n\n  return (\n    <Dialog open>\n      <DialogContent className=\"bg-white text-black p-0 overflow-hidden\">\n        <DialogHeader className=\"pt-8 px-6\">\n          <DialogTitle className=\"text-2xl text-center font-bold\">\n            Customize your server\n          </DialogTitle>\n          <DialogDescription className=\"text-center text-zinc-500\">\n            Give your server a personality with a name and an image. You can always change it later.\n          </DialogDescription>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-8\">\n            <div className=\"space-y-8 px-6\">\n              <div className=\"flex items-center justify-center text-center\">\n                <FormField\n                  control={form.control}\n                  name=\"imageUrl\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormControl>\n                        <FileUpload\n                          endpoint=\"serverImage\"\n                          value={field.value}\n                          onChange={field.onChange}\n                        />\n                      </FormControl>\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <FormField\n                control={form.control}\n                name=\"name\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel\n                      className=\"uppercase text-xs font-bold text-zinc-500 dark:text-secondary/70\"\n                    >\n                      Server name\n                    </FormLabel>\n                    <FormControl>\n                      <Input\n                        disabled={isLoading}\n                        className=\"bg-zinc-300/50 border-0 focus-visible:ring-0 text-black focus-visible:ring-offset-0\"\n                        placeholder=\"Enter server name\"\n                        {...field}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n            <DialogFooter className=\"bg-gray-100 px-6 py-4\">\n              <Button variant=\"primary\" disabled={isLoading}>\n                Create\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}